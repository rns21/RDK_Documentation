
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://github.com/review/Utopia/" rel="canonical"/>
<link href="../RBus/" rel="prev"/>
<link href="../../device-management/docs/" rel="next"/>
<link href="../../assets/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.21" name="generator"/>
<title>Utopia - RDK Documentation</title>
<link href="../../assets/stylesheets/main.2a3383ac.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"Fira Code"}</style>
<link href="../../assets/stylesheets/extra.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/entertainment.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/getting-started.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/connectivity.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/devices.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/footer.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/sidepanes.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/sitemap.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#utopia-documentation">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="RDK Documentation" class="md-header__button md-logo" data-md-component="logo" href="../.." title="RDK Documentation">
<img alt="logo" src="../../assets/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis"> RDK Documentation </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
             Utopia 
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="#00b2dc" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="white" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="#00b2dc" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
</form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="header_buttons">
<a href="https://github.com/rdkcentral"><button class="Btn" type="button">
<div class="sign">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path></svg>
</div>
<div class="text">Source Code</div>
</button></a>
<a href="https://github.com/rdkcentral"><button class="Btn" type="button">
<div class="sign">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3 6h-2c0-1.2-.75-2.28-1.87-2.7L8.97 11H1v11h6v-1.44l7 1.94 8-2.5v-1c0-1.66-1.34-3-3-3M5 20H3v-7h2zm8.97.41L7 18.5V13h1.61l5.82 2.17c.34.13.57.46.57.83 0 0-2-.05-2.3-.15l-2.38-.79-.63 1.9 2.38.79c.51.17 1.04.25 1.58.25H19c.39 0 .74.24.9.57z"></path></svg>
</div>
<div class="text">Contribute</div>
</button></a>
<a href="mailto:support@rdkcentral.com"><button class="Btn" type="button">
<div class="sign">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 19h3v3h-3zm2-17c5.35.22 7.68 5.62 4.5 9.67-.83 1-2.17 1.66-2.83 2.5C13 15 13 16 13 17h-3c0-1.67 0-3.08.67-4.08.66-1 2-1.59 2.83-2.25C15.92 8.43 15.32 5.26 12 5a3 3 0 0 0-3 3H6a6 6 0 0 1 6-6"></path></svg>
</div>
<div class="text">Get Help</div>
</button></a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../entertainment/docs/">
          
  
  
  Entertainment

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../connectivity/docs/">
          
  
  
  Connectivity

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../preview-rdk/docs/getting-started/">
        
  
  
    
  
  Getting Started

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../tools/docs/TDK/">
          
  
  
  Tools

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../">
          
  
  
  Review

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../device-management/docs/">
          
  
  
  Device Management

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../docu/bhanu/pnm_claude/">
          
  
  
  Comparison

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="RDK Documentation" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="RDK Documentation">
<img alt="logo" src="../../assets/logo.png"/>
</a>
    RDK Documentation
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/rdkcentral" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    Source Code
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Entertainment
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Entertainment
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/rdk7-architecture/">
<span class="md-ellipsis">
    Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/rdk7-features/">
<span class="md-ellipsis">
    Features
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/tryout_rdkv_rdk7/">
<span class="md-ellipsis">
    Try Out RDK
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/rdk7-vendor-porting-guide/">
<span class="md-ellipsis">
    Porting Kit
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
<span class="md-ellipsis">
    Core Components
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
            Core Components
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/rdkv_components/">
<span class="md-ellipsis">
    Component List
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/components/westeros/">
<span class="md-ellipsis">
    Westeros
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/components/rdkshell/">
<span class="md-ellipsis">
    RDK Shell
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../entertainment/docs/video_profiles/">
<span class="md-ellipsis">
    Device Profiles
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://wiki.rdkcentral.com/display/RDK/RDK7+Release+Notes">
<span class="md-ellipsis">
    Releases
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Connectivity
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Connectivity
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/architecture/">
<span class="md-ellipsis">
    Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/features/">
<span class="md-ellipsis">
    Features
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/tryout_rdkb/">
<span class="md-ellipsis">
    Try Out RDK
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/profiles/">
<span class="md-ellipsis">
    Device Profiles
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-ellipsis">
    Core Components
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            Core Components
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/rdkb_components/">
<span class="md-ellipsis">
    Component List
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/components/cellularmanager/">
<span class="md-ellipsis">
    Cellular Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/components/wanmanager/">
<span class="md-ellipsis">
    WAN Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/components/gponmanager/">
<span class="md-ellipsis">
    GPON Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/components/PSM_Oldprompt/">
<span class="md-ellipsis">
    PSM OldPrompt
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/components/PSM_GPT5/">
<span class="md-ellipsis">
    PSM GPT5
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/components/PSM_Claude/">
<span class="md-ellipsis">
    PSM_Claude
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/components/WANMgr Rama.md">
<span class="md-ellipsis">
    WAN Mgr Rama
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../connectivity/docs/components/WANMgr%20GPT5/">
<span class="md-ellipsis">
    WAN Mgr GPT5
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://wiki.rdkcentral.com/display/CMF/RDK-B+Code+Releases">
<span class="md-ellipsis">
    Releases
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../preview-rdk/docs/getting-started/">
<span class="md-ellipsis">
    Getting Started
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Tools
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Tools
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/docs/TDK/">
<span class="md-ellipsis">
    TDK
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tools/docs/Automatics/">
<span class="md-ellipsis">
    Automatics
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
<span class="md-ellipsis">
    Review
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Review
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Component List
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../WANManager/">
<span class="md-ellipsis">
    WAN Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CellularManager/">
<span class="md-ellipsis">
    Cellular Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../GPONManager/">
<span class="md-ellipsis">
    GPON Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../PPPManager/">
<span class="md-ellipsis">
    PPP Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../VLANManager/">
<span class="md-ellipsis">
    VLAN Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../TelcoVoiceManager/">
<span class="md-ellipsis">
    Telco Voice Manager
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CCSPPSM/">
<span class="md-ellipsis">
    CCSP PSM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../LMLite/">
<span class="md-ellipsis">
    CCSP LM Lite
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CCSPPandM/">
<span class="md-ellipsis">
    CCSP PandM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OneWifi/">
<span class="md-ellipsis">
    One WiFi
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../RBus/">
<span class="md-ellipsis">
    RBus
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Utopia
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Utopia
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#design">
<span class="md-ellipsis">
      Design
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#internal-modules">
<span class="md-ellipsis">
      Internal Modules
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interaction-with-other-middleware-components">
<span class="md-ellipsis">
      Interaction with Other Middleware Components
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interaction-with-other-layers">
<span class="md-ellipsis">
      Interaction with Other Layers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ipc-mechanism">
<span class="md-ellipsis">
      IPC Mechanism
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#implementation-details">
<span class="md-ellipsis">
      Implementation Details
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-configuration-files">
<span class="md-ellipsis">
      Key Configuration Files
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Device Management
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Device Management
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device-management/docs/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device-management/docs/XConf/">
<span class="md-ellipsis">
    XConf
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device-management/docs/Telemetry/">
<span class="md-ellipsis">
    Telemetry
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device-management/docs/Webpa/">
<span class="md-ellipsis">
    Web PA
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device-management/docs/TR369/">
<span class="md-ellipsis">
    TR 369
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device-management/docs/LogUpload/">
<span class="md-ellipsis">
    Log Upload
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    Comparison
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Comparison
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/bhanu/pnm_claude/">
<span class="md-ellipsis">
    PNM_Claude
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/bhanu/pnm_gpt5/">
<span class="md-ellipsis">
    PNM_GPT5
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/bhanu/utopia_claude/">
<span class="md-ellipsis">
    Utopia_Claude
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/bhanu/utopia_gpt5/">
<span class="md-ellipsis">
    Utopia_GPT5
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/bhanu/wanmgr_claude/">
<span class="md-ellipsis">
    WANMGr_Claude
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/bhanu/wanmgr_gpt5/">
<span class="md-ellipsis">
    WANMGr_GPT5
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/bhanu/utopia_claude/">
<span class="md-ellipsis">
    Utopia_Claude
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/bhanu/utopia_gpt5/">
<span class="md-ellipsis">
    Utopia_GPT5
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/raheen/cl_claude/">
<span class="md-ellipsis">
    CL_Claude
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/raheen/cl_gpt5/">
<span class="md-ellipsis">
    CL_GPT5
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/raheen/lmlite_claude/">
<span class="md-ellipsis">
    LMLite_Claude
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/raheen/lmlite_gpt5/">
<span class="md-ellipsis">
    LMLite_GPT5
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/raheen/psm_claude/">
<span class="md-ellipsis">
    PSM_Claude
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/raheen/psm_gpt5/">
<span class="md-ellipsis">
    PSM_GPT5
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/WANMgr_Claude_2609/">
<span class="md-ellipsis">
    WANMGr_Claude_2609
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/WANMgr_GPT5_2609/">
<span class="md-ellipsis">
    WANMGr_GPT5_2609
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/LMLite_Claude_2609/">
<span class="md-ellipsis">
    LMLite_Claude_2609
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/LMLite_GPT5_2609/">
<span class="md-ellipsis">
    LMLite_GPT5_2609
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/PSM_Claude_2609/">
<span class="md-ellipsis">
    PSM_Claude_2609
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/PSM_GPT5_2609/">
<span class="md-ellipsis">
    PSM_GPT5_2609
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/RBUS_Claude_2609/">
<span class="md-ellipsis">
    RBUS_Claude_2609
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/RBUS_GPT5_2609/">
<span class="md-ellipsis">
    RBUS_GPT5_2609
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/doc_template_orig_rama/">
<span class="md-ellipsis">
    Template_Rama
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../docu/doc_template_mod_2609/">
<span class="md-ellipsis">
    Template_2609
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#design">
<span class="md-ellipsis">
      Design
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#internal-modules">
<span class="md-ellipsis">
      Internal Modules
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interaction-with-other-middleware-components">
<span class="md-ellipsis">
      Interaction with Other Middleware Components
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interaction-with-other-layers">
<span class="md-ellipsis">
      Interaction with Other Layers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ipc-mechanism">
<span class="md-ellipsis">
      IPC Mechanism
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#implementation-details">
<span class="md-ellipsis">
      Implementation Details
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-configuration-files">
<span class="md-ellipsis">
      Key Configuration Files
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/rdkcentral/edit/master/docs/review/Utopia.md" rel="edit" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<h1 id="utopia-documentation">Utopia Documentation</h1>
<p>Utopia is a foundational middleware component in the RDK-B stack that provides essential network services and configuration management for broadband gateway devices. It serves as the core infrastructure layer that manages network services, firewall operations, system events, and device configuration through a unified framework. Utopia acts as the bridge between higher-level CCSP components and the underlying Linux system, providing standardized APIs and event-driven service management. The component integrates tightly with the RDK-B ecosystem by offering system configuration storage (syscfg), inter-process communication via system events (sysevent), and orchestrating various network services like DHCP, firewall, routing, and multi-network management.</p>
<p><strong>Key Features &amp; Responsibilities</strong></p>
<ul>
<li><strong>System Configuration Management</strong>: Provides persistent configuration storage and retrieval through the syscfg subsystem with key-value pair storage and transaction support</li>
<li><strong>Event-Driven Service Orchestration</strong>: Manages inter-process communication and service coordination through the sysevent messaging system with publish-subscribe patterns</li>
<li><strong>Network Service Management</strong>: Orchestrates core networking services including DHCP server/client, IPv4/IPv6 configuration, and multi-network interface management</li>
<li><strong>Firewall and Security Services</strong>: Implements comprehensive iptables-based firewall management with rule generation, port forwarding, and security policy enforcement</li>
<li><strong>Service Lifecycle Management</strong>: Provides unified service management with start/stop/restart capabilities, dependency tracking, and health monitoring</li>
<li><strong>Platform Abstraction Layer</strong>: Offers hardware abstraction through PAL (Platform Abstraction Layer) for device-specific implementations</li>
</ul>
<h2 id="design">Design</h2>
<p>Utopia follows a modular, event-driven architecture that emphasizes separation of concerns and service autonomy. The design is built around three core principles: configuration management through syscfg for persistent storage, event coordination through sysevent for inter-process communication, and service management for orchestrating network operations. The architecture promotes loose coupling between services through well-defined APIs and message passing, enabling independent service lifecycle management and fault isolation. Modularity is achieved through separate service executables that can be started, stopped, and restarted independently without affecting the entire system. Reliability is ensured through persistent configuration storage, service health monitoring, and automatic service recovery mechanisms. The design emphasizes maintainability through clear service boundaries, standardized configuration interfaces, and comprehensive logging throughout all subsystems.</p>
<p>Each service in utopia operates as an independent process that communicates through the sysevent bus, allowing for horizontal scaling and fault tolerance. Configuration data is centralized in syscfg but accessed through well-defined APIs that abstract storage implementation details. Security is integrated at multiple layers including firewall rule management, access control through service boundaries, and secure configuration handling.</p>
<p>A container diagram of the component is given below</p>
<pre class="mermaid"><code>graph TD
    subgraph Runtime ["Linux Runtime Environment"]
        subgraph UtopiaContainer ["Utopia Container"]
            Syseventd[Sysevent Daemon&lt;br/&gt;IPC Message Bus]
            SyscfgLib[Syscfg Library&lt;br/&gt;Configuration Storage]
            ServiceDHCP[Service DHCP&lt;br/&gt;DHCP Server Management]
            ServiceFirewall[Service Firewall&lt;br/&gt;iptables Management]
            ServiceMultinet[Service Multinet&lt;br/&gt;Multi-network Support]
            ServiceWAN[Service WAN&lt;br/&gt;WAN Configuration]
            ServiceRouted[Service Routed&lt;br/&gt;Routing Management]
            UtilLib[Utility Libraries&lt;br/&gt;Common Functions]
        end
        subgraph LinuxKernel ["Linux Kernel"]
            Netfilter[(Netfilter/iptables)]
            NetworkStack[(Network Stack)]
            FileSystem[(File System)]
        end
    end

    Syseventd --&gt;|TCP/UDS| ServiceDHCP
    Syseventd --&gt;|TCP/UDS| ServiceFirewall
    Syseventd --&gt;|TCP/UDS| ServiceMultinet
    ServiceFirewall --&gt;|System Calls| Netfilter
    ServiceDHCP --&gt;|Socket API| NetworkStack
    SyscfgLib --&gt;|File I/O| FileSystem
    ServiceDHCP --&gt;|Library Calls| SyscfgLib
    ServiceFirewall --&gt;|Library Calls| SyscfgLib

    classDef service fill:#e1f5fe,stroke:#0277bd,stroke-width:2px;
    classDef library fill:#fff3e0,stroke:#ef6c00,stroke-width:2px;
    classDef kernel fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px;

    class Syseventd,ServiceDHCP,ServiceFirewall,ServiceMultinet,ServiceWAN,ServiceRouted service;
    class SyscfgLib,UtilLib library;
    class Netfilter,NetworkStack,FileSystem kernel;</code></pre>
<p><strong>Request Flow Sequence</strong></p>
<p>When a service needs to be started, the request flows through sysevent messaging where the service manager receives the start event, validates dependencies through syscfg configuration, initializes the target service process, and updates service status through sysevent notifications.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant Client as Client Process
    participant Sysevent as Sysevent Daemon
    participant SvcMgr as Service Manager
    participant Service as Target Service
    participant Syscfg as Syscfg Library

    Client-&gt;&gt;Sysevent: sysevent_set("service_start", "dhcp")
    Sysevent-&gt;&gt;SvcMgr: Event Notification
    SvcMgr-&gt;&gt;Syscfg: Read service configuration
    Syscfg--&gt;&gt;SvcMgr: Configuration data
    SvcMgr-&gt;&gt;Service: Start service process
    Service-&gt;&gt;Syscfg: Initialize from config
    Service-&gt;&gt;Sysevent: Register event handlers
    Service--&gt;&gt;SvcMgr: Startup confirmation
    SvcMgr-&gt;&gt;Sysevent: sysevent_set("service_status", "started")
    Sysevent--&gt;&gt;Client: Event completion</code></pre>
<p><strong>Threading Model</strong></p>
<p>The <strong>Utopia</strong> framework utilizes a multi-process architecture, with the following threading and concurrency model:</p>
<ul>
<li><strong>Independent Services</strong>: Each service runs as a separate single-threaded process, enabling process isolation and fault containment</li>
<li><strong>Sysevent Daemon</strong>: Operates as an event-driven loop using <code>select()</code> or <code>poll()</code> to handle multiple client connections concurrently</li>
<li><strong>Service Processes</strong>: Typically single-threaded and event-driven, responding to <code>sysevent</code> notifications and dynamic configuration changes</li>
<li><strong>On-Demand Worker Threads</strong>: Spawned for specific tasks such as file I/O in <code>syscfg</code> or network operations within services; these threads are short-lived and used sparingly</li>
<li><strong>Firewall Service</strong>: May fork temporary worker processes to handle complex iptables rule generation for improved parallelism and reliability</li>
</ul>
<p><strong>Thread Synchronization</strong>: Generally unnecessary due to the isolated, single-threaded design of most processes. Concurrency is managed at the process level, ensuring robustness and responsiveness without shared-state complexity.</p>
<h2 id="internal-modules">Internal Modules</h2>
<p>Utopia is organized into several key subsystems that provide different aspects of system and network management functionality. The sysevent subsystem handles all inter-process communication and event coordination. The syscfg subsystem manages persistent configuration storage and retrieval. Network services handle protocol-specific operations like DHCP, routing, and firewall management.</p>
<table>
<thead>
<tr>
<th>Module/Class</th>
<th>Description</th>
<th>Key Files</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sysevent</td>
<td>Inter-process communication bus for event messaging and service coordination</td>
<td><code>source/sysevent/lib/libsysevent.c</code>, <code>source/sysevent/server/syseventd.c</code></td>
</tr>
<tr>
<td>Syscfg</td>
<td>Persistent configuration management with key-value storage and transaction support</td>
<td><code>source/syscfg/lib/syscfg.c</code>, <code>source/syscfg/cmd/syscfg_cmd.c</code></td>
</tr>
<tr>
<td>Service DHCP</td>
<td>DHCP server and client management with lease tracking and configuration</td>
<td><code>source/service_dhcp/service_dhcp.c</code>, <code>source/service_dhcp/dhcp_server_functions.c</code></td>
</tr>
<tr>
<td>Service Firewall</td>
<td>iptables-based firewall management with rule generation and policy enforcement</td>
<td><code>source/firewall/firewall.c</code>, <code>source/firewall/firewall_ext.c</code></td>
</tr>
<tr>
<td>Service Multinet</td>
<td>Multi-network interface management for complex network topologies</td>
<td><code>source/service_multinet/service_multinet_lib.c</code>, <code>source/service_multinet/service_multinet_handler.c</code></td>
</tr>
<tr>
<td>Service Manager</td>
<td>Central service lifecycle management and dependency coordination</td>
<td><code>source/services/lib/srvmgr.c</code></td>
</tr>
<tr>
<td>Utility Libraries</td>
<td>Common functions for logging, RPC, and system utilities</td>
<td><code>source/util/utils/util.c</code>, <code>source/ulog/ulog.c</code></td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>flowchart TD
    subgraph Utopia
        Sysevent([Sysevent IPC Bus])
        Syscfg([Syscfg Storage])
        SvcMgr([Service Manager])

        subgraph NetworkServices
            DHCP([DHCP Service])
            Firewall([Firewall Service])
            Multinet([Multinet Service])
            WAN([WAN Service])
            Routed([Routed Service])
        end

        subgraph Utilities
            ULog([Logging])
            RPC([RPC Framework])
            Utils([Utility Functions])
        end
    end

    SvcMgr --&gt; Sysevent
    NetworkServices --&gt; Sysevent
    NetworkServices --&gt; Syscfg
    Utilities --&gt; Sysevent
    Utilities --&gt; Syscfg

    classDef core fill:#e1f5fe,stroke:#0277bd,stroke-width:2px;
    classDef network fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px;
    classDef utility fill:#fff3e0,stroke:#ef6c00,stroke-width:2px;

    class Sysevent,Syscfg,SvcMgr core;
    class DHCP,Firewall,Multinet,WAN,Routed network;
    class ULog,RPC,Utils utility;</code></pre>
<h2 id="interaction-with-other-middleware-components">Interaction with Other Middleware Components</h2>
<p>Utopia integrates extensively with other RDK-B components through well-defined interfaces and protocols. It provides foundational services that higher-level components depend on for network configuration and system event handling.</p>
<pre class="mermaid"><code>flowchart TD
    Utopia --&gt;|DBus Messages| CcspPaM[CCSP P&amp;M]
    Utopia --&gt;|DBus Messages| CcspTr069[CCSP TR-069]
    Utopia --&gt;|Configuration Events| WebPA[WebPA Agent]
    Utopia --&gt;|Network Status| WifiAgent[WiFi Agent]
    Utopia --&gt;|Service Events| HAL[Hardware Abstraction Layer]
    Utopia --&gt;|System Events| Telemetry[RDK Telemetry]

    classDef utopia fill:#e1f5fe,stroke:#0277bd,stroke-width:2px;
    classDef rdkb fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px;

    class Utopia utopia;
    class CcspPaM,CcspTr069,WebPA,WifiAgent,HAL,Telemetry rdkb;</code></pre>
<table>
<thead>
<tr>
<th>Component</th>
<th>Purpose of Interaction</th>
<th>Protocols/Mechanisms</th>
</tr>
</thead>
<tbody>
<tr>
<td>CCSP P&amp;M</td>
<td>Device configuration management and TR-181 parameter access</td>
<td>DBus method calls, sysevent notifications</td>
</tr>
<tr>
<td>CCSP TR-069</td>
<td>Remote management and configuration synchronization</td>
<td>DBus messages, syscfg parameter updates</td>
</tr>
<tr>
<td>WebPA Agent</td>
<td>Real-time configuration updates and device management</td>
<td>HTTP notifications, sysevent triggers</td>
</tr>
<tr>
<td>WiFi Agent</td>
<td>Network interface coordination and wireless configuration</td>
<td>Sysevent messages, shared configuration</td>
</tr>
<tr>
<td>Hardware Abstraction Layer</td>
<td>Platform-specific network and system operations</td>
<td>Function calls, configuration files</td>
</tr>
<tr>
<td>RDK Telemetry</td>
<td>System health monitoring and performance metrics</td>
<td>Event notifications, log messages</td>
</tr>
</tbody>
</table>
<p>Utopia publishes several key events that other components can subscribe to for coordination and monitoring purposes:</p>
<table>
<thead>
<tr>
<th>Event</th>
<th>Purpose of Event</th>
<th>Reason for trigger</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>service_start</code></td>
<td>Service lifecycle management</td>
<td>Request to start a specific system service</td>
</tr>
<tr>
<td><code>service_stop</code></td>
<td>Service lifecycle management</td>
<td>Request to stop a running system service</td>
</tr>
<tr>
<td><code>firewall-restart</code></td>
<td>Firewall rule updates</td>
<td>Configuration changes requiring rule regeneration</td>
</tr>
<tr>
<td><code>dhcp_client_restart</code></td>
<td>DHCP client renewal</td>
<td>WAN configuration changes or lease expiration</td>
</tr>
<tr>
<td><code>lan_status_change</code></td>
<td>Network interface updates</td>
<td>LAN interface up/down state changes</td>
</tr>
<tr>
<td><code>wan_status_change</code></td>
<td>WAN connectivity updates</td>
<td>Internet connection status changes</td>
</tr>
<tr>
<td><code>syscfg_commit</code></td>
<td>Configuration persistence</td>
<td>Commit pending configuration changes to storage</td>
</tr>
</tbody>
</table>
<h2 id="interaction-with-other-layers">Interaction with Other Layers</h2>
<p>Utopia interfaces with multiple system layers to provide comprehensive network and system management functionality. It abstracts hardware-specific operations through the PAL layer while interfacing directly with Linux kernel services.</p>
<table>
<thead>
<tr>
<th>Layer/Service</th>
<th>Interaction Description</th>
<th>Mechanism</th>
</tr>
</thead>
<tbody>
<tr>
<td>PAL (Platform Abstraction Layer)</td>
<td>Hardware-specific network and system operations</td>
<td>Function calls, shared libraries</td>
</tr>
<tr>
<td>Linux Kernel</td>
<td>Network stack operations, netfilter rules, file system access</td>
<td>System calls, proc/sys filesystem</td>
</tr>
<tr>
<td>DBus System</td>
<td>Inter-component communication with CCSP stack</td>
<td>DBus method calls, signal broadcasts</td>
</tr>
<tr>
<td>External Services</td>
<td>Integration with upstream providers and cloud services</td>
<td>HTTP/HTTPS, TCP/UDP sockets</td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>graph TD
    subgraph "Application Layer"
        CCSP[CCSP Components]
        WebPA[WebPA Agent]
        Management[Management Apps]
    end

    subgraph "Middleware Layer"
        Utopia[Utopia Services]
        DBusLayer[DBus System Bus]
    end

    subgraph "Platform Layer"
        PAL[Platform Abstraction Layer]
        HAL[Hardware Abstraction Layer]
    end

    subgraph "Kernel Layer"
        LinuxKernel[Linux Kernel]
        Netfilter[Netfilter/iptables]
        NetworkStack[Network Stack]
    end

    CCSP &lt;--&gt;|DBus Messages| DBusLayer
    WebPA &lt;--&gt;|HTTP/Events| Utopia
    Management &lt;--&gt;|Configuration| Utopia

    Utopia &lt;--&gt;|Service Calls| PAL
    Utopia &lt;--&gt;|System Calls| LinuxKernel
    Utopia &lt;--&gt;|iptables Rules| Netfilter
    Utopia &lt;--&gt;|Socket API| NetworkStack

    PAL --&gt; HAL
    HAL --&gt; LinuxKernel

    classDef app fill:#fff3e0,stroke:#ef6c00,stroke-width:2px;
    classDef middleware fill:#e1f5fe,stroke:#0277bd,stroke-width:2px;
    classDef platform fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px;
    classDef kernel fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px;

    class CCSP,WebPA,Management app;
    class Utopia,DBusLayer middleware;
    class PAL,HAL platform;
    class LinuxKernel,Netfilter,NetworkStack kernel;</code></pre>
<h2 id="ipc-mechanism">IPC Mechanism</h2>
<table>
<thead>
<tr>
<th>Type of IPC</th>
<th>Message Format</th>
<th>Mechanism</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sysevent Messaging</td>
<td>Text-based key-value pairs with event names and data payloads. Format: "event_name key=value key2=value2"</td>
<td>TCP sockets on localhost:18667 or Unix domain sockets for local communication</td>
</tr>
<tr>
<td>DBus Integration</td>
<td>DBus XML introspection format with method calls, properties, and signals for CCSP integration</td>
<td>Standard DBus system bus with registered service names and object paths</td>
</tr>
<tr>
<td>Syscfg Storage</td>
<td>Key-value pairs stored in binary format with transaction logs and atomic updates</td>
<td>Direct file I/O with locking mechanisms and backup/recovery support</td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>sequenceDiagram
    participant Client as Client Process
    participant Syseventd as Sysevent Daemon
    participant ServiceA as Service A
    participant ServiceB as Service B
    participant Syscfg as Syscfg Storage

    Client-&gt;&gt;Syseventd: sysevent_set("lan_status", "up")
    Syseventd-&gt;&gt;ServiceA: Event notification (lan_status=up)
    Syseventd-&gt;&gt;ServiceB: Event notification (lan_status=up)

    ServiceA-&gt;&gt;Syscfg: syscfg_get("dhcp_enabled")
    Syscfg--&gt;&gt;ServiceA: Configuration value

    ServiceA-&gt;&gt;Syseventd: sysevent_set("dhcp_restart", "1")
    Syseventd-&gt;&gt;ServiceB: Event notification (dhcp_restart=1)

    ServiceB--&gt;&gt;Syseventd: Service action completed
    ServiceB-&gt;&gt;Syscfg: syscfg_set("service_status", "running")</code></pre>
<h2 id="implementation-details">Implementation Details</h2>
<ul>
<li><strong>Key Algorithms or Logic</strong>: The sysevent system uses a publish-subscribe pattern with event registration and notification queues implemented in <code>source/sysevent/lib/libsysevent.c</code>. The firewall service employs rule generation algorithms that parse configuration data and generate iptables commands in <code>source/firewall/firewall.c</code>. Service dependency management uses a state machine approach in <code>source/services/lib/srvmgr.c</code> for orchestrating service startup sequences.</li>
<li><strong>Error Handling Strategy</strong>: Errors are detected through return code checking, logged via the ulog subsystem, and propagated through sysevent error notifications. Critical errors trigger service restart mechanisms while configuration errors are logged and reported to management interfaces.</li>
<li><strong>Logging &amp; Debugging</strong>: The ulog subsystem provides categorized logging with levels (ERROR, WARN, INFO, DEBUG) and module-specific tags. Debug information is available through runtime flags and can be enabled per service or globally through syscfg configuration.</li>
</ul>
<h2 id="key-configuration-files">Key Configuration Files</h2>
<table>
<thead>
<tr>
<th>Configuration File</th>
<th>Purpose</th>
<th>Key Parameters</th>
<th>Default Values</th>
<th>Override Mechanisms</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/etc/utopia/system_defaults</code></td>
<td>System default configuration parameters</td>
<td><code>device_mode</code>, <code>lan_ifname</code>, <code>wan_proto</code></td>
<td><code>router</code>, <code>brlan0</code>, <code>dhcp</code></td>
<td>Environment variables, command line</td>
</tr>
<tr>
<td><code>/etc/syscfg.db</code></td>
<td>Persistent configuration storage</td>
<td><code>dhcp_start</code>, <code>dhcp_num</code>, <code>firewall_enabled</code></td>
<td><code>100</code>, <code>50</code>, <code>1</code></td>
<td>Syscfg API, web interface</td>
</tr>
<tr>
<td><code>/var/lib/utopia/service.conf</code></td>
<td>Service configuration and state</td>
<td>Service definitions, dependencies, startup order</td>
<td>Service-specific</td>
<td>Sysevent messages</td>
</tr>
<tr>
<td><code>/etc/utopia/registration.d/</code></td>
<td>Service registration scripts</td>
<td>Service handlers, event mappings</td>
<td>Per-service scripts</td>
<td>Manual script updates</td>
</tr>
</tbody>
</table>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<div class="bottom-banner compact-footer">
<!-- Left Section: Logo and Copyright -->
<div class="footer-left">
<img alt="RDK Logo" class="rdk-logo" src="../../assets/logo.png">
<p class="copyright">Copyright © 2025 RDK Management, LLC. For more information, please visit:<a href="https://rdkcentral.com/"> www.rdkcentral.com.</a></p>
</img></div>
<!-- Right Section: Links and Support -->
<div class="footer-right">
<!-- Explore RDK -->
<div class="banner-group">
<h3>Explore RDK</h3>
<div class="sub-columns">
<ul>
<li><a href="../../preview-rdk/docs/getting-started">Getting Started</a></li>
<li><a href="../../devices/docs/">Devices</a></li>
<li><a href="../../preview-rdk/docs/getting-started">Tools</a></li>
</ul>
</div>
</div>
<!-- Device Management -->
<div class="banner-group">
<h3>Device Management</h3>
<div class="sub-columns">
<ul>
<li><a href="/device-management/docs/XConf/">XConf</a></li>
<li><a href="/device-management/docs/Telemetry/">Telemetry</a></li>
<li><a href="/device-management/docs/Webpa/">Web PA</a></li>
<li><a href="/device-management/docs/TR369/">TR 369</a></li>
</ul>
</div>
</div>
<!-- Explore RDK -->
<div class="banner-group">
<h3>Test &amp; Certification</h3>
<div class="sub-columns">
<ul>
<li><a href="https://wiki.rdkcentral.com/pages/viewpage.action?pageId=131729119">RDK Certification</a></li>
<li><a href="../../tools/docs/TDK/">TDK</a></li>
<li><a href="../../tools/docs/Automatics/">Automatics</a></li>
</ul>
</div>
</div>
<!-- Resources-->
<div class="banner-group">
<h3>Resources</h3>
<div class="sub-columns">
<ul>
<li><a href="/docu/WANMgr_Claude_2609/">Knowledge Articles</a></li>
<li><a href="/sitemap/">Quick Links</a></li>
<li><a href="/sitemap.xml">Site Map</a></li>
</ul>
</div>
</div>
</div>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "navigation.tabs", "toc.follow", "navigation.top", "content.code.copy", "content.code.annotate", "content.action.edit", "content.tabs.link", "content.tabs", "content.width"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script src="../../assets/javascripts/extra.js"></script>
</div></body>
</html>